/*
Deployment script for Security

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;

GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'Security')
    BEGIN
        ALTER DATABASE [Security]
            SET ANSI_NULLS ON,
                ANSI_PADDING ON,
                ANSI_WARNINGS ON,
                ARITHABORT ON,
                CONCAT_NULL_YIELDS_NULL ON,
                NUMERIC_ROUNDABORT OFF,
                QUOTED_IDENTIFIER ON,
                ANSI_NULL_DEFAULT ON,
                CURSOR_DEFAULT LOCAL,
                RECOVERY FULL,
                CURSOR_CLOSE_ON_COMMIT OFF,
                AUTO_CREATE_STATISTICS ON,
                AUTO_SHRINK OFF,
                AUTO_UPDATE_STATISTICS ON,
                RECURSIVE_TRIGGERS OFF 
            WITH ROLLBACK IMMEDIATE;
        ALTER DATABASE [Security]
            SET AUTO_CLOSE OFF 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'Security')
    BEGIN
        ALTER DATABASE [Security]
            SET ALLOW_SNAPSHOT_ISOLATION OFF;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'Security')
    BEGIN
        ALTER DATABASE [Security]
            SET READ_COMMITTED_SNAPSHOT OFF;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'Security')
    BEGIN
        ALTER DATABASE [Security]
            SET AUTO_UPDATE_STATISTICS_ASYNC OFF,
                PAGE_VERIFY NONE,
                DATE_CORRELATION_OPTIMIZATION OFF,
                DISABLE_BROKER,
                PARAMETERIZATION SIMPLE,
                SUPPLEMENTAL_LOGGING OFF 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF IS_SRVROLEMEMBER(N'sysadmin') = 1
    BEGIN
        IF EXISTS (SELECT 1
                   FROM   [master].[dbo].[sysdatabases]
                   WHERE  [name] = N'Security')
            BEGIN
                EXECUTE sp_executesql N'ALTER DATABASE [Security]
    SET TRUSTWORTHY ON,
        DB_CHAINING OFF 
    WITH ROLLBACK IMMEDIATE';
            END
    END
ELSE
    BEGIN
        PRINT N'The database settings cannot be modified. You must be a SysAdmin to apply these settings.';
    END


GO
IF IS_SRVROLEMEMBER(N'sysadmin') = 1
    BEGIN
        IF EXISTS (SELECT 1
                   FROM   [master].[dbo].[sysdatabases]
                   WHERE  [name] = N'Security')
            BEGIN
                EXECUTE sp_executesql N'ALTER DATABASE [Security]
    SET HONOR_BROKER_PRIORITY OFF 
    WITH ROLLBACK IMMEDIATE';
            END
    END
ELSE
    BEGIN
        PRINT N'The database settings cannot be modified. You must be a SysAdmin to apply these settings.';
    END


GO
ALTER DATABASE [Security]
    SET TARGET_RECOVERY_TIME = 0 SECONDS 
    WITH ROLLBACK IMMEDIATE;


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'Security')
    BEGIN
        ALTER DATABASE [Security]
            SET FILESTREAM(NON_TRANSACTED_ACCESS = OFF),
                CONTAINMENT = NONE 
            WITH ROLLBACK IMMEDIATE;
    END


GO
USE [Security];


GO
PRINT N'Enabling CLR ...';

GO
EXEC sp_configure 'clr enabled', 1

RECONFIGURE
GO
IF fulltextserviceproperty(N'IsFulltextInstalled') = 1
    EXECUTE sp_fulltext_database 'enable';



GO
PRINT N'Creating [System.Management] v4.0.30319 ...';

CREATE ASSEMBLY [System.Management] FROM 'C:\Windows\Microsoft.NET\Framework64\v4.0.30319\System.Management.dll' WITH PERMISSION_SET = UNSAFE;


GO
PRINT N'Creating [v3dcrypt]...';


GO
CREATE ASSEMBLY [v3dcrypt]
    AUTHORIZATION [dbo]
    FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C0103007110F0510000000000000000E00002210B010B00001800000006000000000000AE370000002000000040000000000010002000000002000004000000000000000400000000000000008000000002000000000000030040850000100000100000000010000010000000000000100000000000000000000000603700004B00000000400000D803000000000000000000000000000000000000006000000C000000283600001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E74657874000000B4170000002000000018000000020000000000000000000000000000200000602E72737263000000D80300000040000000040000001A0000000000000000000000000000400000402E72656C6F6300000C0000000060000000020000001E0000000000000000000000000000400000420000000000000000000000000000000090370000000000004800000002000500F425000034100000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000022021728020000062A5A027B020000042D0602280300000602177D020000042A6E027B010000042C0B027B010000046F1000000A02147D010000042A8A027B01000004027B010000046F1100000A027B010000046F1200000A6F1300000A2A8A027B01000004027B010000046F1100000A027B010000046F1200000A6F1400000A2A000013300400440000000100001173090000060A067B0100000402067B010000046F1500000A1E5B6F1600000A6F1700000A067B0100000402067B010000046F1800000A1E5B6F1600000A6F1900000A062A133005005F0000000200001173090000060A067B010000046F1500000A1E5B0B078D180000010C020807281A00000A067B01000004086F1700000A067B010000046F1800000A1E5B0D098D180000011304020711041609281B00000A067B0100000411046F1900000A062A1E027B010000042A4A02731C00000A7D0100000402281D00000A2A5A02281E00000A7E050000046F1F00000A280B0000062A0000001B3003008B0000000300001102282000000A2C0B7201000070732100000A7A036F2200000A2D0B7259000070732100000A7A140A7E0300000428070000060B732300000A0C08076F0400000617732400000A0D09732500000A13041104026F2600000ADE0C11042C0711046F2700000ADCDE0A092C06096F2700000ADC086F2800000A282900000A0ADE0A082C06086F2700000ADC062A000128000002004F000A59000C00000000020047002067000A0000000002003900467F000A000000001B3003007300000003000011038E691F202F0B729F000070732100000A7A140A0328070000060B732300000A0C08076F0400000617732400000A0D09732500000A13041104026F2600000ADE0C11042C0711046F2700000ADCDE0A092C06096F2700000ADC086F2800000A282900000A0ADE0A082C06086F2700000ADC062A0001280000020037000A41000C0000000002002F00204F000A00000000020021004667000A000000005A02281E00000A7E050000046F1F00000A280E0000062A001B300300910000000400001102282000000A2C0B72E5000070732100000A7A03282000000A2C0B7259000070732100000A7A140A037E04000004732A00000A28060000060B02282B00000A0C08732C00000A0D09076F0500000616732400000A13041104732D00000A130511056F2E00000A0ADE0C11052C0711056F2700000ADCDE0C11042C0711046F2700000ADCDE0A092C06096F2700000ADC062A0000000128000002005F000A69000C00000000020056002177000C00000000020047003E85000A000000001B3003007300000004000011038E691F202F0B723D010070732100000A7A140A0328070000060B02282B00000A0C08732C00000A0D09076F0500000616732400000A13041104732D00000A130511056F2E00000A0ADE0C11052C0711056F2700000ADCDE0C11042C0711046F2700000ADCDE0A092C06096F2700000ADC062A0001280000020041000A4B000C00000000020038002159000C00000000020029003E67000A000000006A281E00000A7E050000046F1F00000A7E0400000428120000062A4A02281E00000A036F2F00000A28120000062A000013300500570000000500001173090000060A0203732A00000A0B066F080000066F1500000A1E5B0C066F080000066F1800000A1E5B0D0809588D18000001130407086F1600000A110408281A00000A07096F1600000A1611040809281B00000A11042A0017EE25B87B247E4B641AD59461D6574225B51E28955F389ED1748B7D2B3F91DF291864F280FD4BDDE01DCBE1919C5E4E6F363830363634326B624D376335000065706C757269627573556E756D3939210330030046000000000000001F308D1800000125D006000004283100000A80030000041F0E8D1800000125D007000004283100000A80040000041F108D1800000125D008000004283100000A80050000042A1E02281D00000A2A000042534A4201000100000000000C00000076342E302E33303331390000000005006C00000080050000237E0000EC0500007406000023537472696E677300000000600C00009401000023555300F40D0000100000002347554944000000040E00003002000023426C6F6200000000000000020000015797A2210902000000FA25330016000001000000290000000700000008000000140000001100000001000000310000000E00000003000000050000000100000001000000010000000300000001000000020000000300000000000A000100000000000600500049000600570049000A008C006F000600C9006F000600FA006F000600BB01A1010600E601D4010600FD01D40106001A02D40106003902D40106005202D40106006B02D40106008602D4010600A102D4010600D902BA020600ED02D40106000603D4010600360323034B004A0300000600790359030600990359030600C0036F000600EE036F0006002004490006002504490006003C04300406005904490006006E044900060099048F040600A6046F000600B3048F040600BA046F000600CB048F040600D8048F040600F1044900060019058F04060026058F040600870559030600A20549000600DD0559030600EC054900000000000100000000000100010000001000170024000500010001000100100039002400050003000A00000000004205000005000600150013010000AC0500009D0009001500130100000F0600009D000900150013010000400600009D00090015000100A5000A000100B0000E0031003001370031003A0137003100410137001301C905210113012C062E0113015D063201502000000000E601BB00110001005920000000008100BB00150001007020000000008600C300110002008C20000000008600DA001A000200AF20000000008600EA001A000200D4200000000096000D011F00020024210000000096000D01260003008F2100000000860814012D0004009721000000008618210111000400AA210000000096004C013B000400C4210000000096004C014000050084220000000096004C01460007002C2300000000960054013B0009004423000000009600540140000A000C24000000009600540146000C00B4240000000096005C014D000E00CF240000000096005C0152000E00E4240000000096005C0159001000EA2500000000861821011100120098250000000091183B0518011200000001006801000001007201000001007601000001007E01000001007E01000002008801000001007E01000002007201000001009101000001009101000002008801000001009101000002007201000001008801000002009C01000001008801000002009C0102000900310021016100390021016100410021016100490021016100510021016100590021016100610021016100690021016100710021016100790021011500810021016100890021016100910021016600A10021016C00A90021011100B100C3001100B100D3037100B100DB037100B100DA007600B100EA007600B100E2037F00B900FA038300B10003048900B1000B047F00B10019048900C9002B049400C9002B049D00190021011100090021011100D1004504B300D1004F04B800D9006004BE00E10021016100D90084047F00E90021011100F1002101C30009012101CE001101E30461001100BB001100E900E90471001901F904D40029002101E70019010805EE00E9002101890021012101CE0029013105F400D100FA0307013101210111004101FF0525012E0033007E012E000B0036012E0013007E012E001B0098012E002300BB012E002B00C1012E005300BB012E003B00D0012E004300BB012E006B00FE012E007B0010022E006300F1012E0073000702830083011C01010030000000050001000E000000060001001000000007008F00A800DA00F8000D0102000100000027013200020008000300482500000600782500000700882500000800048000000100000000000000000000000000B70300000400000000000000000000000100400000000000040000000000000000000000010063000000000005000400060004000700040000000000003C4D6F64756C653E0076336463727970742E646C6C00414553416C676F726974686D0056696174726F6E69782E456E6372797074696F6E0043727970746F006D73636F726C69620053797374656D004F626A6563740049446973706F7361626C650053797374656D2E436F72650053797374656D2E53656375726974792E43727970746F6772617068790041657343727970746F5365727669636550726F7669646572006D5F70726F7669646572006D5F646973706F73656400446973706F736500436C656172004943727970746F5472616E73666F726D00437265617465456E63727970746F7200437265617465446563727970746F720052666332383938446572697665427974657300437265617465006765745F50726F7669646572002E63746F720050726F7669646572006D5F6B657968617368006D5F73616C74006D5F70617373776F726400456E637279707400446563727970740047656E65726174654B657900646973706F73696E67006B6579006B65796861736800706C61696E546578740070617373776F726400636970686572546578740073616C740053797374656D2E52756E74696D652E56657273696F6E696E67005461726765744672616D65776F726B4174747269627574650053797374656D2E5265666C656374696F6E00417373656D626C795469746C6541747472696275746500417373656D626C794465736372697074696F6E41747472696275746500417373656D626C79436F6E66696775726174696F6E41747472696275746500417373656D626C79436F6D70616E7941747472696275746500417373656D626C7950726F6475637441747472696275746500417373656D626C79436F7079726967687441747472696275746500417373656D626C7954726164656D61726B41747472696275746500417373656D626C7943756C747572654174747269627574650053797374656D2E52756E74696D652E496E7465726F70536572766963657300436F6D56697369626C6541747472696275746500417373656D626C7956657273696F6E41747472696275746500417373656D626C7946696C6556657273696F6E4174747269627574650053797374656D2E446961676E6F73746963730044656275676761626C6541747472696275746500446562756767696E674D6F6465730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C6974794174747269627574650076336463727970740053796D6D6574726963416C676F726974686D006765745F4B6579006765745F4956006765745F4B657953697A65004465726976654279746573004765744279746573007365745F4B6579006765745F426C6F636B53697A65007365745F4956004279746500417272617900436F70790053797374656D2E5465787400456E636F64696E67006765745F415343494900476574537472696E6700537472696E670049734E756C6C4F72456D70747900417267756D656E744E756C6C457863657074696F6E006765745F4C656E6774680053797374656D2E494F004D656D6F727953747265616D0043727970746F53747265616D0053747265616D0043727970746F53747265616D4D6F64650053747265616D577269746572005465787457726974657200577269746500546F417272617900436F6E7665727400546F426173653634537472696E670046726F6D426173653634537472696E670053747265616D52656164657200546578745265616465720052656164546F456E64002E6363746F72003C50726976617465496D706C656D656E746174696F6E44657461696C733E7B35414337423639322D433231312D343736342D383932442D4238324131383131453130427D00436F6D70696C657247656E6572617465644174747269627574650056616C756554797065005F5F5374617469634172726179496E69745479706553697A653D34380024246D6574686F643078363030303031342D310052756E74696D6548656C706572730052756E74696D654669656C6448616E646C6500496E697469616C697A654172726179005F5F5374617469634172726179496E69745479706553697A653D31340024246D6574686F643078363030303031342D32005F5F5374617469634172726179496E69745479706553697A653D31360024246D6574686F643078363030303031342D3300000000005749006E00760061006C00690064002000610072006700750065006D0065006E00740020006D0069007300730069006E006700200073007400720069006E006700200074006F00200065006E0063007200790070007400004549006E00760061006C00690064002000610072006700750065006D0065006E00740020006D0069007300730069006E0067002000700061007300730077006F0072006400004549006E00760061006C00690064002000610072006700750065006D0065006E00740020006B0065007900200069007300200074006F006F002000730068006F0072007400005749006E00760061006C00690064002000610072006700750065006D0065006E00740020006D0069007300730069006E006700200073007400720069006E006700200074006F0020006400650063007200790070007400005549006E00760061006C00690064002000610072006700750065006D0065006E00740020006D0069007300730069006E00670020006B0065007900200069007300200074006F006F002000730068006F0072007400000092B6C75A11C26447892DB82A1811E10B0008B77A5C561934E0890306120D02060203200001042001010204200012110600011208121506000112081D05042000120D042800120D03061D050400010E0E0500020E0E0E0600020E0E1D050400001D050600021D050E0E0700021D050E1D05042001010E05200101114D04200101080420001D0508200212111D051D05032000080520011D0508052001011D0504070112080800030112651265080A000501126508126508080A07051208081D05081D0504000012690520010E1D05040001020E0A200301127D121111808105200101127D0500010E1D050C07050E120812751279128085062002010E1D050500011D050E0320000E0E07060E12081D05127512791280910520011D050E0A07051208121508081D05030000010401000000030611140800020112651180A5030611180306111C4701001A2E4E45544672616D65776F726B2C56657273696F6E3D76342E300100540E144672616D65776F726B446973706C61794E616D65102E4E4554204672616D65776F726B20341901001456696174726F6E69782E456E6372797074696F6E00002201001D456E6372797074696F6E2F44656372797074696F6E204C69627261727900000501000000000E0100094D6963726F736F667400002001001B436F7079726967687420C2A9204D6963726F736F6674203230313100000C010007332E352E302E3600000801000200000000000801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F77730100000000007110F05100000000020000001C0100004436000044180000525344536572192827E9D344A3529BD094CDB06201000000643A5C53564E5C4D657267655C436F6465426173655C7372635C7633645C56696174726F6E69782E456E6372797074696F6E5C6F626A5C52656C656173655C76336463727970742E70646200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008837000000000000000000009E370000002000000000000000000000000000000000000000000000903700000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF250020001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001001000000018000080000000000000000000000000000001000100000030000080000000000000000000000000000001000000000048000000584000007C03000000000000000000007C0334000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100050003000600000005000300060000003F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B004DC020000010053007400720069006E006700460069006C00650049006E0066006F000000B8020000010030003000300030003000340062003000000054001E00010043006F006D006D0065006E0074007300000045006E006300720079007000740069006F006E002F00440065006300720079007000740069006F006E0020004C00690062007200610072007900000034000A00010043006F006D00700061006E0079004E0061006D006500000000004D006900630072006F0073006F00660074000000540015000100460069006C0065004400650073006300720069007000740069006F006E0000000000560069006100740072006F006E00690078002E0045006E006300720079007000740069006F006E0000000000300008000100460069006C006500560065007200730069006F006E000000000033002E0035002E0030002E00360000003C000D00010049006E007400650072006E0061006C004E0061006D0065000000760033006400630072007900700074002E0064006C006C00000000005C001B0001004C006500670061006C0043006F007000790072006900670068007400000043006F0070007900720069006700680074002000A90020004D006900630072006F0073006F0066007400200032003000310031000000000044000D0001004F0072006900670069006E0061006C00460069006C0065006E0061006D0065000000760033006400630072007900700074002E0064006C006C00000000004C0015000100500072006F0064007500630074004E0061006D00650000000000560069006100740072006F006E00690078002E0045006E006300720079007000740069006F006E0000000000340008000100500072006F006400750063007400560065007200730069006F006E00000033002E0035002E0030002E003600000038000800010041007300730065006D0062006C0079002000560065007200730069006F006E00000031002E0030002E0030002E00300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000C000000B03700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
    WITH PERMISSION_SET = UNSAFE;


GO
PRINT N'Creating [v3dsql]...';


GO
CREATE ASSEMBLY [v3dsql]
    AUTHORIZATION [dbo]
    FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A24000000000000005045000064860200E11F7D520000000000000000F00022200B020B000028000000040000000000000000000000200000000000800100000000200000000200000400000000000000040000000000000000800000000200000000000003004085000040000000000000400000000000000000100000000000002000000000000000000000100000000000000000000000000000000000000000600000A803000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000004800000000000000000000002E7465787400000040260000002000000028000000020000000000000000000000000000200000602E72737263000000A80300000060000000040000002A0000000000000000000000000000400000402E72656C6F630000000000000080000000000000002E0000000000000000000000000000400000424800000002000500CC2B0000741A0000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001E027B020000042A1E027B010000042A1B3003004000000001000011160A027B030000046F1000000A0C2B151202281100000A0B0607036F1600000660250A2D091202281200000A2DE2DE0E1202FE160200001B6F1300000ADC062A0110000002000E002230000E000000001B300300BC0000000200001173050000060A06026F1400000A72010000706F1500000A6F1600000A6F1700000A7D0200000406026F1400000A720D0000706F1500000A2D03162B1F026F1400000A720D0000706F1500000A6F1600000A6F1700000A281800000A7D0100000402721D0000706F1900000A0B0772290000706F1A00000A6F1B00000A0D2B1D096F1C00000A74030000010C067B030000040828150000066F1D00000A096F1E00000A2DDBDE14097515000001130411042C0711046F1300000ADC062A0110000002007D0029A600140000000076027E1F00000A7D0200000402732000000A7D0300000402282100000A2A00001B300500AA0000000300001103282200000A2C02162A723300007003282300000A1001140A027243000070725F000070037287000070282400000A280D00000603282500000A0A02724300007072B100007003282300000A280D000006066F2600000A26170CDE4C26140A02724300007072C70000700372E3000070282400000A280D000006DE1E0B027243000070722F010070076F2700000A282300000A280D000006DE00DE0A062C06066F2800000ADC162A082A00000128000000001900435C00201F00000100001900437C001E1D00000102001900839C000A000000001B300600BD00000004000011160A03282200000A2C02062A723300007003282300000A10010272710100707293010070037287000070282400000A280D000006160B732900000A0C081714732A00000A2003001F0016732B00000A6F2C00000A161703120108732D00000A26072C1A02727101007072BF01007003282E00000A280D000006170A2B1802727101007072EB01007003282E00000A280D000006160ADE240D027271010070721D020070037237020070096F2700000A282F00000A280D000006FE1A062A00000001100000000019007E9700241D0000011B300500AA0000000300001103282200000A2C02162A723300007003282300000A1001140A027261020070725F000070037287000070282400000A280D00000603282500000A0A027261020070728102007003282300000A280D000006066F3000000A26170CDE4C26140A02726102007072C70000700372E3000070282400000A280D000006DE1E0B027261020070722F010070076F2700000A282300000A280D000006DE00DE0A062C06066F2800000ADC162A082A00000128000000001900435C00201F00000100001900437C001E1D00000102001900839C000A000000001E02283100000A2A1E02283200000A2A1B300500B10000000500001102282200000A2C0772970200701000198D1B0000010D09161F23283300000AA2091772A9020070A2091872BD020070A2090A06283400000A0B07283500000A2D0707283600000A26070272C7020070282300000A283700000A0B0717733800000A0C0872D10200701A8D010000011304110416283900000A8C2F000001A211041703A21104180F02283A00000AA211041905A21104283B00000A6F3C00000ADE0A082C06086F1300000ADCDE0326DE002A000000011C0000020062003FA1000A0000000000000000ADAD00031D0000011B300500B400000006000011160A03283500000A3984000000170A03283D00000A13041613052B14110411059A0B0207280C00000626110517581305110511048E6932E403283E00000A13061613072B28110611079A0C02722F030070724F03007008282E00000A280D00000608283F00000A110717581307110711068E6932D002722F030070727303007003282E00000A280D00000603284000000ADE1F0D02722F03007072A303007003096F2700000A284100000A280D000006FE1A062A01100000000002009193001F1D0000011B300500880000000700001102282200000A2C02DE7D1A8D1B00000113041104161F23283300000AA211041772A9020070A211041872BD020070A21104197297020070A211040A06283400000A0B07283500000A2C380702283700000A0C0817733800000A0D0972EB030070283900000A8C2F0000010304284200000A6F3C00000ADE0A092C06096F1300000ADCDE0326DE002A011C000002005A001E78000A0000000000000000848400031D0000011B3002004000000008000011140A7E1F00000A0B022C07026F4300000A0A72370400707257040070280F0000060BDE0326FE1ADE10062C0C066F4400000A066F4500000ADC07283100000A2A011C0000000008001C240003010000010200080021290010000000001B300300BB000000090000117E1F00000A0A726F04007002282300000A734600000A0B076F4700000A6F4800000A13052B4211056F4900000A74380000010C086F4A00000A6F4B00000A163127086F4A00000A036F4C00000A2C19086F4A00000A036F4C00000A6F4D00000A6F1700000A0A2B0911056F4E00000A2DB5DE0C11052C0711056F1300000ADCDE030D097ADE07076F4F00000ADC178D3C00000113061106161F209D1106130406728D0400706F5000000A2D090611046F5100000A2A7E1F00000A2A0001280000020024004F73000C00000000000017006A8100031D000001020017006F860007000000001B300200460000000A0000117E1F00000A0A026F5200000A0C2B101202285300000A0B0607282300000A0A1202285400000A2DE7DE0E1202FE160400001B6F1300000ADC06283100000A2606283100000A2A00000110000002000D001D2A000E000000001E02282100000A2A1E027B040000042A1E027B050000042A1E027B070000042A1B300300410100000B00001173170000060A06026F1400000A72950400706F1500000A2C1C026F1400000A72950400706F1500000A6F1600000A6F1700000A2B057E1F00000A7D0500000406026F1400000A72010000706F1500000A2C1C026F1400000A72010000706F1500000A6F1600000A6F1700000A2B057E1F00000A7D0600000406026F1400000A72A50400706F1500000A2C1C026F1400000A72A50400706F1500000A6F1600000A281800000A2B01167D0700000406026F1400000A72BB0400706F1500000A6F1600000A6F1700000A7D04000004067B050000046F5500000A163119067B060000046F5500000A16310B72C3040070735600000A7A0272290000706F1A00000A6F1B00000A0C2B1D086F1C00000A74030000010B067B080000040728150000066F1D00000A086F1E00000A2DDBDE110875150000010D092C06096F1300000ADC062A0000000110000002000501292E0111000000001B3004007B0100000C000011160A722B050070027B04000004282E00000A0B03076F1900000A0C083958010000086F5700000A6F5800000A163E47010000086F5900000A6F1600000A6F1700000A0D027B050000046F5500000A163131027B070000042D0D027B05000004735A00000A2B0C027B0500000417735B00000A13041104096F5C00000A0A38B1000000178D3C00000113091109161F5C9D11091305027B0600000411056F5D00000A13061106130A16130B2B7C110A110B9A1307110772550500706F5000000A2C1D06091107176F5E00000A027B07000004285F00000A2C03162B0117600A110772590500706F5000000A2C1F06091107176F5E00000A027B07000004285F00000A2C03162B01175F0A2B1706091107027B07000004285F00000A2C03162B0117600A110B1758130B110B110A8E693F79FFFFFF062C43027B080000046F1000000A130C2B1B120C281100000A1308062C0A1108036F160000062B01160A062D09120C281200000A2DDCDE0E120CFE160200001B6F1300000ADC062A000110000002004301286B010E00000000EA027E1F00000A7D04000004027E1F00000A7D05000004027E1F00000A7D0600000402177D0700000402732000000A7D0800000402282100000A2A0042534A4201000100000000000C00000076342E302E33303331390000000005006C00000080070000237E0000EC0700009C09000023537472696E677300000000881100006005000023555300E8160000100000002347554944000000F81600007C03000023426C6F6200000000000000020000015715A2090900000000FA253300160000010000003F000000040000000800000017000000190000005F0000000D0000000C00000002000000050000000500000004000000010000000500000000000A0001000000000006005E0057000600920077000A00C200B7000600710157010600B8029E020600E302D1020600FA02D10206001703D10206003603D10206004F03D10206006803D10206008303D10206009E03D1020600D603B7030600EA03B7030600F803D10206001104D10206004E042E0406006E042E040B00930400000600C10457000A00D504B7000A00FB04B70006001C0557000A003B05B7000600660553050600760557000600A90598050600CA0557000600E00598050600F105980506003106130606004906570106005C06570106006D0613060600870657010600990613060600AF0613060600CF0698050E000907F406060010075700A7001C07000006004207380706004F07380706006007380706007E07380706008B07570006009C0757000600A20738070600CF0738070600DB07570112001A080808120033080808D7005208000012006D0808081200820808081200930808081200C30808081600EF08D9080600F908570006001C09570016006E094F09160074094F0900000000010000000000010001000100100015001C000500010001000100100034003B000500040006000100100049001C00050004001200010065000A0001006F000D000100990010000100AB010D000100B1010D0001006F000D000100BB010A000100990010005020000000008608A100180001005820000000008608AB001C0001006020000000008600CA0020000100BC20000000009600D200260002009421000000008618D9002D000300B421000000009600ED00390003009422000000009600FB003900050070230000000096000C013900070050240000000096001C013F000900582400000000960024013F000A0060240000000096002C0144000B003C250000000096003C0139000F000C260000000096004C014C001100BC2600000000960081015300140024270000000091008D01590015001428000000009600A6015F0017007828000000008618D9002D0018008028000000008608C801180018008828000000008608D001180018009028000000008608DC011C0018009828000000009600D20068001800F829000000008600CA0020001900902B000000008618D9002D001A00000001000202000001000902000001000E02000002001A02000001000E02000002001A02000001000E02000002001A02000001001F02000001001F02000001002502000002002E02000003003802000004004202000001004F02000002005B02000001006502000002006E02000003007502000001007D02000001008602000002008A020000010097020000010009020000010002022900D9006F003100D9006F003900D9006F004100D9006F004900D9006F005100D9006F005900D9006F006100D9006F006900D9006F007100D90074007900D9006F008100D9006F008900D9006F009100D90079009900D9002D000C009E0485001400AC0495001400B8041C00A900CD042D001900EC04A600B1000805AB001900A1001800090013051800C1002405B10019002A05B60019004705BC00C9009E04C200D100AC04C7000C007205CB00D100B8041C00D9007D050D000C00D9002D000900D9002D00D9008305B100D90091055900D9009105DE00E100B905E500E100C6051C00E900D4051800F100EB052D000101D9002D000901D900F3001901D900FD000101C1060A01E100D9001101D900DE061F01D90091052501E100E5061C0041011C013F00410124013F0049012A073701590147073E0161015907B10061016E0744015901470759007101D9004B01790194075101810113051800D900DE0657018901AD076F006101B7076B016101C6076B019101D40771016101D4077101D900DE067601D900DE068B012100F7079F01990103082D009901CD042D00A101D9006F00A1014E08B501A9019E04BB01B101AC04C101B901AA08C701C901B908CD01C901D008D101D101A100C700B101B8041C00D901CD042D00D900FE08D801D9000909DD011C009E0485002400AC0495002400B8041C00D9001109CD01E901D9006F00190031091702C900B908CD01190040091C02F101D9006F00F101D9002102F101CA00D801D90081092902D90087093002D900910935022E000B0059022E001300A1022E001B00BA022E002300D1022E002B00D7022E003300EB022E003B00F9022E004300D1022E005300D1022E005B001A032E006B0044032E00730051032E007B005A039A00D100EB002D015E017D019301A501E30102020C023C0202000100040003000000DF0031000000E50035000000EB0131000000EF0131000000F7013500020001000300020002000500020012000700020013000900020014000B007E008E00F601FC010480000001000000000000000000000000008C04000004000000000000000000000001004E00000000000400000000000000000000000100B700000000000400000000000500000000000000EB0600000000040000000000000000000000AC0108080000000004000000000000000000000001005700000000000000003C4D6F64756C653E0076336473716C2E646C6C0046696C7465720056696174726F6E69782E53716C2E46696C746572696E670048656C7065720056696174726F6E69782E53716C0052756C65006D73636F726C69620053797374656D004F626A656374006D5F64656661756C74006D5F76616C75650053797374656D2E436F6C6C656374696F6E732E47656E65726963004C6973746031006D5F72756C6573006765745F56616C7565006765745F44656661756C740053797374656D2E586D6C00586D6C4E6F64650049734D6174636800437265617465002E63746F720056616C75650044656661756C74005365744E616D65644576656E74004372656174654E616D65644576656E740052657365744E616D65644576656E7400456E63727970740044656372797074004C6F674572726F724D6573736167650044656C6574654469726563746F7279004C6F674D6573736167650053797374656D2E53656375726974792E5072696E636970616C0057696E646F77734964656E746974790047657453797374656D4964004765744D616E6167656D656E744F626A65637456616C75650048617368006D5F746167006D5F7061747465726E006D5F69676E6F726543617365006765745F546167006765745F5061747465726E006765745F49676E6F72654361736500546167005061747465726E0049676E6F72654361736500686561646572006E6F6465006C6F6746696C656E616D65006E616D650076616C75650064617461626173650070726F636564757265006572726F72436F6465006572726F724D657373616765006C6F6746696C654E616D65006469726563746F72790066696C656E616D65006D6574686F64006D657373616765006964656E74697479006B65790070726F70657274794E616D650076616C7565730053797374656D2E52756E74696D652E56657273696F6E696E67005461726765744672616D65776F726B4174747269627574650053797374656D2E5265666C656374696F6E00417373656D626C795469746C6541747472696275746500417373656D626C794465736372697074696F6E41747472696275746500417373656D626C79436F6E66696775726174696F6E41747472696275746500417373656D626C79436F6D70616E7941747472696275746500417373656D626C7950726F6475637441747472696275746500417373656D626C79436F7079726967687441747472696275746500417373656D626C7954726164656D61726B41747472696275746500417373656D626C7943756C747572654174747269627574650053797374656D2E52756E74696D652E496E7465726F70536572766963657300436F6D56697369626C65417474726962757465004775696441747472696275746500417373656D626C7956657273696F6E41747472696275746500417373656D626C7946696C6556657273696F6E4174747269627574650053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C6974794174747269627574650076336473716C00456E756D657261746F7200476574456E756D657261746F72006765745F43757272656E74004D6F76654E6578740049446973706F7361626C6500446973706F736500586D6C417474726962757465436F6C6C656374696F6E006765745F4174747269627574657300586D6C417474726962757465006765745F4974656D4F6600546F537472696E6700426F6F6C65616E0050617273650053656C65637453696E676C654E6F646500586D6C4E6F64654C6973740053656C6563744E6F6465730053797374656D2E436F6C6C656374696F6E730049456E756D657261746F720041646400537472696E6700456D7074790049734E756C6C4F72456D70747900436F6E6361740053797374656D2E546872656164696E67004576656E745761697448616E646C65004F70656E4578697374696E670053657400457863657074696F6E006765745F4D657373616765005761697448616E646C6500436C6F7365005761697448616E646C6543616E6E6F7442654F70656E6564457863657074696F6E0053797374656D2E53656375726974792E416363657373436F6E74726F6C004576656E745761697448616E646C6553656375726974790053656375726974794964656E7469666965720057656C6C4B6E6F776E53696454797065004576656E745761697448616E646C6541636365737352756C65004964656E746974795265666572656E6365004576656E745761697448616E646C6552696768747300416363657373436F6E74726F6C547970650041646441636365737352756C65004576656E7452657365744D6F646500466F726D61740052657365740076336463727970740056696174726F6E69782E456E6372797074696F6E0043727970746F00456E7669726F6E6D656E74005370656369616C466F6C64657200476574466F6C646572506174680053797374656D2E494F005061746800436F6D62696E65004469726563746F727900457869737473004469726563746F7279496E666F004372656174654469726563746F72790053747265616D577269746572004461746554696D65006765745F4E6F7700496E74333200546578745772697465720057726974654C696E65004765744469726563746F726965730047657446696C65730046696C650044656C6574650057696E646F7773496D706572736F6E6174696F6E436F6E7465787400496D706572736F6E61746500556E646F0053797374656D2E4D616E6167656D656E74004D616E6167656D656E744F626A6563745365617263686572004D616E6167656D656E744F626A656374436F6C6C656374696F6E00476574004D616E6167656D656E744F626A656374456E756D657261746F72004D616E6167656D656E74426173654F626A656374004D616E6167656D656E744F626A6563740050726F706572747944617461436F6C6C656374696F6E006765745F50726F70657274696573006765745F436F756E740050726F706572747944617461006765745F4974656D0053797374656D2E436F6D706F6E656E744D6F64656C00436F6D706F6E656E7400436861720053746172747357697468005472696D456E64006765745F4C656E677468004170706C69636174696F6E457863657074696F6E006765745F4368696C644E6F646573006765745F46697273744368696C640053797374656D2E546578742E526567756C617245787072657373696F6E730052656765780052656765784F7074696F6E730053706C697400537562737472696E6700436F6D7061726500000000000B760061006C0075006500000F640065006600610075006C007400000B720075006C00650073000009720075006C006500000F47006C006F00620061006C005C00001B5300650074004E0061006D00650064004500760065006E007400002741007400740065006D007000740069006E006700200074006F0020006F00700065006E0020000029200069006E00200067006C006F00620061006C0020006E0061006D0065007300700061006300650000155300690067006E0061006C0069006E0067002000001B4500760065006E0074002000680061006E0064006C0065002000004B200064006F006500730020006E006F0074002000650078006900730074002C0020006E006F002000700072006F006300650073007300650073002000770061006900740069006E00670000414500760065006E0074002000680061006E0064006C00650020006600610069006C0065006400200074006F0020007300690067006E0061006C0020003A00200000214300720065006100740065004E0061006D00650064004500760065006E007400002B41007400740065006D007000740069006E006700200074006F0020006300720065006100740065002000002B4500760065006E00740020007B0030007D0020007700610073002000630072006500610074006500640000314500760065006E00740020007B0030007D00200061006C0072006500610064007900200065007800690073007400730000194E0061006D006500640020006500760065006E0074002000002920006600610069006C0065006400200074006F00200063007200650061007400650020003A002000001F520065007300650074004E0061006D00650064004500760065006E007400001552006500730065007400740069006E00670020000011440061007400610062006100730065000013560069006100740072006F006E006900780000094C006F006700730000092E006C006F006700005D7B0030003A00640064002F004D004D002F0079007900790079002D00480048003A006D006D003A00730073007D00200020007B0031002C002D00330032007D00200020007B0032002C002D0038003A0044007D0020007B0033007D00011F440065006C006500740065004400690072006500630074006F00720079000023440065006C006500740069006E0067002000660069006C00650020007B0030007D00002F440065006C0065007400650069006E00670020006400690072006500630074006F007200790020007B0030007D000047440065006C006500740069006E00670020006400690072006500630074006F007200790020007B0030007D0020006600610069006C006500640020003A0020007B0031007D00004B7B0030003A00640064002F004D004D002F0079007900790079002D00480048003A006D006D003A00730073007D00200020007B0031002C002D00330032007D00200020007B0032007D00011F570069006E00330032005F00500072006F0063006500730073006F0072000017500072006F0063006500730073006F00720049006400001D730065006C0065006300740020002A002000660072006F006D00200000074E006F007400000F7000610074007400650072006E000015690067006E006F007200650043006100730065000007740061006700006749006E00760061006C00690064002000720075006C00650020003A002000430061006E0020006F006E006C0079002000680061007600650020006F006E0065002000610020007000610074007400650072006E0020006F0072002000760061006C007500650000292F0065006C0065006D0065006E0074005B0040007400610067003D0027007B0030007D0027005D0001037C000003260000000000D2A275C8C79BB0488748B3CCB7E77A850008B77A5C561934E08902060202060E07061512090112100320000E0320000205200102120D0600011208120D032000010328000E03280002050002080E0E0400010E0E070004010E0E080E060003010E0E0E0500010E12110500020E0E0E0800010E151209010E0600011210120D042001010E04200101020420010108061512090112100820001511510113000615115101121004200013000B07030212101511510112100420001259052001125D0E040001020E052001120D0E05200112650E04200012690320001C0520010113000C07051208120D120D126912550600030E0E0E0E05000112710E0707031271127508092002011180891280850C2003011280911180951180990620010112808D0D2005010211809D0E10021280810500020E0E1C0700040E0E0E0E0E090704080212808112750600010E1180A90500010E1D0E0600011280B50E052002010E020500001180BD0600020E0E1D1C0C07051D0E0E1280B91D0E1D1C0500011D0E0E040001010E0600030E0E1C1C0D0708080E0E12751D0E081D0E080700040E0E1C1C1C0B07051D0E0E0E1280B91D0E0520001280CD0607021280CD0E08B03F5F7F11D50A3A0520001280D50520001280D90520001280DD0520001280E5032000080620011280E90E042001020E0520010E1D031207070E1280D11280E112751D031280D91D0305151209010E05151151010E0907030E0E151151010E0A07041210120D126912550420001265042000120D072002010E1180FD0620011D0E1D030420010E08060003080E0E021C070D020E120D0E1280F91D031D0E0E12101D031D0E081511510112104701001A2E4E45544672616D65776F726B2C56657273696F6E3D76342E300100540E144672616D65776F726B446973706C61794E616D65102E4E4554204672616D65776F726B20341801001356696174726F6E69782E46696C746572696E6700001601001146696C746572696E67206C69627261727900000501000000001301000E56696174726F6E697820496E632E00000D010008446174616261736500002001001B436F7079726967687420C2A92056696174726F6E6978203230313100002901002433343633306534342D613263612D343363642D623838362D34663231336232623364316100000C010007352E302E302E3300000801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F77730100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001001000000018000080000000000000000000000000000001000100000030000080000000000000000000000000000001000000000048000000586000004C03000000000000000000004C0334000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000005000300000000000500030000003F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B004AC020000010053007400720069006E006700460069006C00650049006E0066006F0000008802000001003000300030003000300034006200300000003C001200010043006F006D006D0065006E00740073000000460069006C0074006500720069006E00670020006C00690062007200610072007900000040000F00010043006F006D00700061006E0079004E0061006D00650000000000560069006100740072006F006E0069007800200049006E0063002E0000000000500014000100460069006C0065004400650073006300720069007000740069006F006E0000000000560069006100740072006F006E00690078002E00460069006C0074006500720069006E0067000000300008000100460069006C006500560065007200730069006F006E000000000035002E0030002E0030002E003300000038000B00010049006E007400650072006E0061006C004E0061006D0065000000760033006400730071006C002E0064006C006C00000000005C001B0001004C006500670061006C0043006F007000790072006900670068007400000043006F0070007900720069006700680074002000A9002000560069006100740072006F006E0069007800200032003000310031000000000040000B0001004F0072006900670069006E0061006C00460069006C0065006E0061006D0065000000760033006400730071006C002E0064006C006C0000000000340009000100500072006F0064007500630074004E0061006D006500000000004400610074006100620061007300650000000000340008000100500072006F006400750063007400560065007200730069006F006E00000035002E0030002E0030002E003300000038000800010041007300730065006D0062006C0079002000560065007200730069006F006E00000031002E0030002E0030002E00300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
    WITH PERMISSION_SET = UNSAFE;


GO
PRINT N'Creating [Viatronix.Sql.Security]...';


GO
CREATE ASSEMBLY [Viatronix.Sql.Security]
    AUTHORIZATION [dbo]
    FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A240000000000000050450000648602007E207D520000000000000000F00022200B020B0000140000000600000000000000000000002000000000008001000000002000000002000004000000000000000400000000000000006000000002000000000000030040850000400000000000004000000000000000001000000000000020000000000000000000001000000000000000000000000000000000000000004000000804000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000004800000000000000000000002E74657874000000B4120000002000000014000000020000000000000000000000000000200000602E7273726300000008040000004000000006000000160000000000000000000000000000400000402E72656C6F630000000000000060000000000000001C000000000000000000000000000040000042480000000200050008230000AC0F0000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002A0302281000000A51172A2A0302281100000A51172A00001B3006002A02000001000011170A026F1200000A16300772010000702B01020B7E1300000A0C03070418161202280700000639BF00000008720500007016731400000A0D178D17000001130D110D161F5C9D110D1304096F1500000A11046F1600000A1305026F1200000A163007281700000A2B0102130611058E6917311B1105169A110617281800000A2D291105179A0317281800000A2D1C11058E69173320026F1200000A2D0D1105169A0317281800000A2C0B720F000070731900000A7ADE191307721D00007011076F1A00000A281B00000A731900000A7ADD53010000087E1300000A281C00000A2C0708280A00000626DC7E1D00000A1308281E00000A13091109130E110E202E05000059450600000014000000200000002C000000380000004400000050000000110E20690500002E53110E20750700002E562B60722F000070130838DD000000723D000070130838D1000000724B000070130838C50000007259000070130838B90000007267000070130838AD0000007287000070130838A100000072A50000701308389500000072B30000701308388900000016130A7E1300000A130B14120B120A280800000626110B281F00000A130C026F1200000A16310E110A192E0972C100007013082B3B026F1200000A16312B110A193326110C6F2000000A0217281800000A2C167233010070027267010070110C282100000A13082B07722F0000701308DE17110B7E1300000A281C00000A2C08110B280900000626DC160A1108731900000A7A062A00000128000000002B008CB700191A00000102002B00AAD500150000000002009F016807021700000000367E020000040203282200000A2A861F23282300000A72CB010070282400000A800100000472FB01007080020000042A1E02282500000A2A1E02282500000A2A42534A4201000100000000000C00000076342E302E33303331390000000005006C00000014050000237E0000800500003C06000023537472696E677300000000BC0B00002002000023555300DC0D0000100000002347554944000000EC0D0000C001000023426C6F620000000000000002000001571D02140902000000FA253300160000010000001E00000006000000130000000B00000014000000260000000E0000000E00000001000000030000000400000001000000040000000300000000000A00010000000000060085007E0006008C007E000600EE01CF010600A60294020600BD0294020600DA0294020600F902940206001203940206002B03940206004603940206006103940206007A03CF0106008E0394020600A70394020600E403C40306000404C4030A005A043F040E008504770406009C047E000600AE047E000600D404BA040600E404BA040600F7047E0006000B057E0012004E052F05060066057E0006009705CF016300D00500000600F605EC0506000306CF010000000001000000000001000100010010001F0000000500010001000000100030003600050003000700020100004D000000090003000C00020100005800000009000A000C00020100006700000009000F000C00110091000A0011009B000A00060626013F0056802E01420056803A014200568042014200568048014200568050014200568061014200060626013F00568070016400568078016400568080016400568088016400060626013F005680900172005680980172005680A10172005680AF0172005020000000009600A9000D0001005B20000000009600B4000D0003006820000000009600BF0014000500C822000000009100D8001B000800F822000000008618E30021000A00D622000000009118C905EB000A000000000080009620E90025000A000000000080009620F30030001000000000008000962009013A00130000000000800096201A013A0014000023000000008618E3002100150000000100BA0102000200C00100000100BA0102000200FB01000001000A02000002001102000003001702000001002002000002002702000001002F02000002003C02000003004702000004005402000005006002020006007002000001007802020002000A02020003007F02000001008602000001008D021900E30021002100E30076002900E30076003100E30076003900E30076004100E30076004900E30076005100E30076005900E30076006100E3007B006900E30076007100E30076007900E30080008100E30021008900E300210091008C0485009100940485009900A3048A00A100B5048E00A900E3009100A900FC049900990005059D00C1001705A40099002705A800C900E3007600D1007005990099007C05AF00A1008305B500990091050A00D9009F05BB00D900B105BF000900C005990099007C05C4009100D800E400C100DE05EF00E900FB05AF000900E3002100F100E3007600080010004600080014004B0008001800500008001C005500080020005A00080024005F0008002C006800080030006D00080034004600080038004B00080040006800080044006D0008004800460008004C004B0020007B006D002E002B0045012E00330059012E001300F5002E001B0016012E0023003F012E0043003F012E0053003F012E0073009F012E003B0067012E00630088012E006B00960140007B006D0060007B006D00CC0016062306300600010F00E900010044011100F30002000001130009010200470115001A0103000480000003000600000000000000000000002204000004000000000000000000000001007500000000000400000000000000000000000100330400000000010000000000000000000000000070040000000004000000000000000000000001007E000000000004000300050003000600030000000000003C4D6F64756C653E007678646273716C2E73656375726974792E646C6C0053746F72656450726F636564757265730057696E33320056696174726F6E69782E44617461626173652E53716C004C6F676F6E5479706573004C6F676F6E50726F766964657273004E65744A6F696E537461747573006D73636F726C69620053797374656D004F626A65637400456E756D006D5F6C6F6750617468006D5F6C6F6766696C656E616D650073705F646563727970740073705F656E63727970740073705F77696E646F777341757468656E7469636174696F6E004C6F674D657373616765002E63746F72004C6F676F6E55736572004E65744765744A6F696E496E666F726D6174696F6E004E65744170694275666665724672656500436C6F736548616E646C650076616C75655F5F00496E746572616374697665004E6574776F726B0042617463680053657276696365004E6574776F726B436C65617274657874004E657743726564656E7469616C730044656661756C740057696E4E5433350057696E4E5434300057696E4E54353000556E6B6E6F776E00556E6A6F696E656400576F726B67726F75704E616D6500446F6D61696E4E616D650076616C75650064656372797074656456616C75650053797374656D2E52756E74696D652E496E7465726F705365727669636573004F757441747472696275746500656E6372797074656456616C756500646F6D61696E006C6F67696E0070617373776F7264006D6574686F64006D657373616765006C70737A557365724E616D65006C70737A446F6D61696E006C70737A50617373776F72640064774C6F676F6E547970650064774C6F676F6E50726F7669646572007048546F6B656E0073657276657200737461747573004275666665720068616E646C650053797374656D2E5265666C656374696F6E00417373656D626C795469746C6541747472696275746500417373656D626C794465736372697074696F6E41747472696275746500417373656D626C79436F6E66696775726174696F6E41747472696275746500417373656D626C79436F6D70616E7941747472696275746500417373656D626C7950726F6475637441747472696275746500417373656D626C79436F7079726967687441747472696275746500417373656D626C7954726164656D61726B41747472696275746500417373656D626C7943756C7475726541747472696275746500436F6D56697369626C6541747472696275746500417373656D626C7956657273696F6E41747472696275746500417373656D626C7946696C6556657273696F6E4174747269627574650053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C697479417474726962757465007678646273716C2E73656375726974790053797374656D2E44617461004D6963726F736F66742E53716C5365727665722E5365727665720053716C50726F6365647572654174747269627574650076336473716C0056696174726F6E69782E53716C0048656C706572004465637279707400456E637279707400537472696E67006765745F4C656E67746800496E74507472005A65726F0053797374656D2E53656375726974792E5072696E636970616C0057696E646F77734964656E746974790057696E646F77734163636F756E74547970650043686172006765745F4E616D650053706C697400456E7669726F6E6D656E74006765745F4D616368696E654E616D6500436F6D706172650053797374656D2E53656375726974792E41757468656E7469636174696F6E0041757468656E7469636174696F6E457863657074696F6E00457863657074696F6E006765745F4D65737361676500436F6E636174006F705F496E657175616C69747900456D707479004D61727368616C004765744C61737457696E33324572726F7200507472546F537472696E67556E6900546F537472696E67002E6363746F72005370656369616C466F6C64657200476574466F6C646572506174680053797374656D2E494F005061746800436F6D62696E6500446C6C496D706F72744174747269627574650061647661706933322E646C6C004E657461706933322E646C6C006B65726E656C33320000000000032E0000094E0054004C004D00000D39003000310032003100320000113900300031003200300030003A002000000D390030003100320030003000000D390030003100320030003700000D390030003100320030003800000D390030003100320030003900001F3900300030003900390033007C00500061007300730077006F0072006400001D3900300030003900390037007C004100630063006F0075006E007400000D390030003100320031003100000D39003000310032003200350000713900300031003200300030003A00200044006F006D00610069006E00200073007000650063006900660069006500640020006200750074002000730079007300740065006D0020006900730020006E006F00740020006F006E0020006100200064006F006D00610069006E002E00200000333900300031003200300030003A00200044006F006D00610069006E0020007300700065006300690066006900650064002000006320006900730020006E006F00740020007400680065002000730061006D0065002000610073002000740068006500200064006F006D00610069006E00200074006800690073002000730079007300740065006D0020006900730020006F006E002000002F560069006100740072006F006E00690078005C004C006F00670073005C00440061007400610062006100730065000021730071006C005F00730065006300750072006900740079002E006C006F0067000000000004CB7D7A62F1334883A6A128FD350A4E0008B77A5C561934E08902060E060002080E100E060003080E0E0E050002010E0E032000010A0006020E0E0E09091018090003080E1018101118040001081802060803061110040200000004030000000404000000040500000004080000000409000000030611140400000000040100000003061118042001010E042001010204200101080400010E0E0320000802061807200301180E11590320000E0620011D0E1D030300000E060003080E0E020500020E0E0E050002021818030000080400010E180700040E0E0E0E0E17070F080E1812551D031D0E0E12690E081118180E1D0308060003010E0E0E030000010500010E11712001001B56696174726F6E69782E53716C5365727665722E5363757269747900002801002353656375726974792044617461626173652053746F7265642050726F6365647572657300000501000000001301000E56696174726F6E697820496E632E00000D010008446174616261736500002001001B436F7079726967687420C2A92056696174726F6E6978203230313200000D010008352E302E302E383500000801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F7773010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058400000B00300000000000000000000B00334000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000005005500000000000500550000003F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B00410030000010053007400720069006E006700460069006C00650049006E0066006F000000EC020000010030003000300030003000340062003000000060002400010043006F006D006D0065006E00740073000000530065006300750072006900740079002000440061007400610062006100730065002000530074006F007200650064002000500072006F006300650064007500720065007300000040000F00010043006F006D00700061006E0079004E0061006D00650000000000560069006100740072006F006E0069007800200049006E0063002E000000000060001C000100460069006C0065004400650073006300720069007000740069006F006E0000000000560069006100740072006F006E00690078002E00530071006C005300650072007600650072002E0053006300750072006900740079000000340009000100460069006C006500560065007200730069006F006E000000000035002E0030002E0030002E0038003500000000004C001500010049006E007400650072006E0061006C004E0061006D00650000007600780064006200730071006C002E00730065006300750072006900740079002E0064006C006C00000000005C001B0001004C006500670061006C0043006F007000790072006900670068007400000043006F0070007900720069006700680074002000A9002000560069006100740072006F006E006900780020003200300031003200000000005400150001004F0072006900670069006E0061006C00460069006C0065006E0061006D00650000007600780064006200730071006C002E00730065006300750072006900740079002E0064006C006C0000000000340009000100500072006F0064007500630074004E0061006D006500000000004400610074006100620061007300650000000000380009000100500072006F006400750063007400560065007200730069006F006E00000035002E0030002E0030002E00380035000000000038000800010041007300730065006D0062006C0079002000560065007200730069006F006E00000033002E0036002E0030002E0030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
    WITH PERMISSION_SET = UNSAFE;


GO
PRINT N'Creating [v3d].[sp_decrypt]...';


GO
CREATE PROCEDURE [v3d].[sp_decrypt]
@value NVARCHAR (4000), @decryptedValue NVARCHAR (4000) OUTPUT
AS EXTERNAL NAME [Viatronix.Sql.Security].[StoredProcedures].[sp_decrypt]
GO
GRANT EXECUTE ON [v3d].[sp_decrypt] TO [v3dsa] AS [dbo]
GO
GRANT EXECUTE ON [v3d].[sp_decrypt] TO [v3duser] AS [dbo]
GO


PRINT N'Creating [v3d].[sp_encrypt]...';


GO
CREATE PROCEDURE [v3d].[sp_encrypt]
@value NVARCHAR (4000), @encryptedValue NVARCHAR (4000) OUTPUT
AS EXTERNAL NAME [Viatronix.Sql.Security].[StoredProcedures].[sp_encrypt]
GO
GRANT EXECUTE ON [v3d].[sp_encrypt] TO [v3dsa] AS [dbo]
GO
GRANT EXECUTE ON [v3d].[sp_encrypt] TO [v3duser] AS [dbo]
GO

PRINT N'Creating [v3d].[sp_windowsAuthentication]...';


GO
CREATE PROCEDURE [v3d].[sp_windowsAuthentication]
@domain NVARCHAR (4000), @login NVARCHAR (4000), @password NVARCHAR (4000)
AS EXTERNAL NAME [Viatronix.Sql.Security].[StoredProcedures].[sp_windowsAuthentication]
GO
GRANT EXECUTE ON [v3d].[sp_windowsAuthentication] TO [v3dsa] AS [dbo]
GO
GRANT EXECUTE ON [v3d].[sp_windowsAuthentication] TO [v3duser] AS [dbo]
GO


GO
DECLARE @VarDecimalSupported AS BIT;

SELECT @VarDecimalSupported = 0;

IF ((ServerProperty(N'EngineEdition') = 3)
    AND (((@@microsoftversion / power(2, 24) = 9)
          AND (@@microsoftversion & 0xffff >= 3024))
         OR ((@@microsoftversion / power(2, 24) = 10)
             AND (@@microsoftversion & 0xffff >= 1600))))
    SELECT @VarDecimalSupported = 1;

IF (@VarDecimalSupported > 0)
    BEGIN
        EXECUTE sp_db_vardecimal_storage_format N'Security', 'ON';
    END


GO
ALTER DATABASE [Security]
    SET MULTI_USER 
    WITH ROLLBACK IMMEDIATE;


GO
PRINT N'Update complete.'
GO
